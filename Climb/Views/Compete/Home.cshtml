@using Climb.ViewModels
@model CompeteHomeViewModel

@{
	ViewBag.Title = "Home";
	Layout = "_Layout";
}

<div align="center">
	<h2>Home</h2>
	<h4>Hello @Model.user.Username</h4>
</div>
@foreach(var leagueInfo in Model.leagueInfos)
{
	<div class="panel panel-default">
		@Html.Partial("../LeagueUsers/Info", leagueInfo.leagueUser)

		@{
			if(leagueInfo.nextSet == null)
			{
				<div align="center">
					<span>No available sets</span>
				</div>
			}
			else
			{
				var viewModel = new SetCollapsedViewModel(leagueInfo.nextSet, leagueInfo.leagueUser);
				@Html.Partial("../Sets/Collapsed", viewModel)
			}
		}
	</div>
	
	if (Model.leagueInfos.Last() != leagueInfo)
	{
		<hr />
	}
}