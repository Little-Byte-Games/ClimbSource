@model Climb.ViewModels.LeagueHomeViewModel

@{
    ViewData["Title"] = "Home";
}

<div align="center">
	<h2>Home</h2>
	<br/>
	<h3>@Model.league.Name</h3>
</div>

<div class="container">
	<div class="row">
		<div class="col-xs-3">
			<h4>Seasons</h4>
			<div class="btn-group-vertical">
				@foreach(var season in Model.league.Seasons)
				{
					var buttonClass = "btn-info";
					if(season.IsComplete)
					{
						buttonClass = "btn-default";
					}
					else if(season.StartDate < DateTime.Now)
					{
						buttonClass = "btn-primary";
					}
					<a class="btn @buttonClass" role="button" asp-controller="Seasons" asp-action="Details" asp-route-id="@season.ID">@season.DisplayName</a>
				}
			</div>
		</div>
		<div class="col-xs-9">
			<h4 align="center">Power Rankings</h4>
			@{
				var users = Model.league.Members.ToList();
				users.Sort();
				foreach(var leagueUser in users)
				{
					<div class="panel">
						<span>@leagueUser.Rank (@leagueUser.Elo)</span>
						<img src="@leagueUser.GetProfilePicUrl(Model.configuration)" width="100" height="100"/>
						@Html.Partial("../Users/Name", leagueUser.User)
					</div>
				}
			}
		</div>
	</div>
</div>
